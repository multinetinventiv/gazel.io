<!DOCTYPE html>
<html lang="en">
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="format-detection" content="telephone=no">
<meta property="og:url" content="https://gazel.io">
<meta property="og:image" content="https://gazel.io/main_logo_1x.png">
<meta property="og:image:width" content="270">
<meta property="og:image:height" content="64">
<link rel="icon" type="image/png" href="/favicon.png">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/css/stylesheet.css">
<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
<title>Gazel - Documentation</title>
<meta property="og:title" content="Gazel - Getting Started">
<meta property="og:description" content="This is a tutorial that aims to help you to understand how to write a backend using Gazel.">
<meta name="description" content="This is a tutorial that aims to help you to understand how to write a backend using Gazel."><link rel="modulepreload" href="/tutorial/_payload.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.ef08e1a7.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.20a8b0d9.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/nuxt-link.66578c96.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/query.7ea06dd1.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/utils.58685aca.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/app.config.4734e3a3.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/states.c4a11c4c.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/_...slug_.7b3d4bb8.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.e76a7133.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.18bf65ab.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.a6ef77ff.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/composables.81b9ca2f.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH1.d4317c6e.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.90f43a30.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.a1e32c98.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.e3fa3fce.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseUl.e22f2836.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.03111c9a.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.95409553.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH2.34d9d28f.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseBlockquote.2c139769.js"><link rel="preload" as="style" href="/_nuxt/Alert.52f5ff90.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseEm.c89ce9ec.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseImg.2ea9c956.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseHr.f3d4b7a6.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseOl.85554e6f.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseStrong.5600d177.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH3.f1ac3364.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/error-component.ac7cb80d.js"><link rel="stylesheet" href="/_nuxt/Alert.52f5ff90.css"><style>pre{background-color:#1a1b26;border-radius:5px;font-size:.9em;margin-bottom:1rem;padding:1em;text-shadow:none}pre.mermaid{background-color:#fff}.bg-light{background-color:#fff!important}</style><style>#header-logo[data-v-7ce25d56]{max-width:150px}.topmenu-options[data-v-7ce25d56]{font-weight:700}</style><style>pre code .line{display:block;min-height:1rem}</style><style>.alert-message{display:contents;max-width:20px}.alert{border-bottom-width:7px;border-radius:5px;margin:1px 1px 1rem;padding:.9rem}.alert p{margin-bottom:0}.alert .col{padding-left:.9rem;padding-right:.9rem}.alert-message .fa-solid{position:relative;top:6px}</style></head>
<body data-spy="scroll" data-target=".idocs-navigation" data-offset="125"><div id="__nuxt"><!--[--><div id="__layout"><div id="main-wrapper"><header id="header" class="sticky-top" data-v-7ce25d56><nav class="primary-menu navbar navbar-expand-lg bg-light navbar-text-dark navbar-dropdown-light border-0" data-v-7ce25d56><div class="container-fluid" data-v-7ce25d56><button id="sidebar" class="navbar-toggler d-block d-md-none" type="button" data-v-7ce25d56><span data-v-7ce25d56></span><span class="w-75" data-v-7ce25d56></span><span class="w-50" data-v-7ce25d56></span></button><a href="/" class="logo ml-md-2" title="Gazel documentation" data-v-7ce25d56><img id="header-logo" src="/main_logo_1x.png" alt="Gazel documentation" data-v-7ce25d56></a><button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#header-nav" data-v-7ce25d56><span data-v-7ce25d56></span><span data-v-7ce25d56></span><span data-v-7ce25d56></span></button><div id="header-nav" class="collapse navbar-collapse justify-content-end" data-v-7ce25d56><ul class="navbar-nav" data-v-7ce25d56><!--[--><li data-v-7ce25d56><a aria-current="page" href="/tutorial" class="router-link-active router-link-exact-active topmenu-options" data-v-7ce25d56>Tutorial</a></li><li data-v-7ce25d56><a href="/conventions" class="topmenu-options" data-v-7ce25d56>Conventions</a></li><li data-v-7ce25d56><a href="/setup" class="topmenu-options" data-v-7ce25d56>Setup</a></li><li data-v-7ce25d56><a href="/architecture" class="topmenu-options" data-v-7ce25d56>Architecture</a></li><li data-v-7ce25d56><a href="/features" class="topmenu-options" data-v-7ce25d56>Features</a></li><li data-v-7ce25d56><a href="/release-notes" class="topmenu-options" data-v-7ce25d56>Release Notes</a></li><!--]--></ul></div><ul class="social-icons social-icons-sm ml-lg-2 mr-2" data-v-7ce25d56><li class="social-icons-github" data-v-7ce25d56><a href="https://github.com/multinetinventiv/gazel" rel="noopener noreferrer" target="_blank" data-toggle="tooltip" title data-original-title="Github" data-v-7ce25d56><i class="fab fa-github" data-v-7ce25d56></i></a></li></ul></div></nav></header><div id="content" role="main"><div class="idocs-content"><div class="container"><!--[--><!--[--><div><div class="idocs-navigation bg-light"><ul class="nav flex-column"><!--[--><li class="nav-item"><a class="nav-link" href="#">Getting Started</a><ul class="nav flex-column"><!--[--><!--]--></ul></li><li class="nav-item"><a class="nav-link" href="#hello-world">Hello World</a><ul class="nav flex-column"><!--[--><!--[--><li class="nav-item"><a class="nav-link" href="#hello-world-create-a-hello-world-service">Create a Hello World Service</a></li><!--]--><!--[--><li class="nav-item"><a class="nav-link" href="#hello-world-writing-a-unit-test">Writing a Unit Test</a></li><!--]--><!--[--><li class="nav-item"><a class="nav-link" href="#hello-world-summary">Summary</a></li><!--]--><!--]--></ul></li><li class="nav-item"><a class="nav-link" href="#persistent-classes">Persistent Classes</a><ul class="nav flex-column"><!--[--><!--[--><li class="nav-item"><a class="nav-link" href="#persistent-classes-create-a-persistent-class">Create A Persistent Class</a></li><!--]--><!--[--><li class="nav-item"><a class="nav-link" href="#persistent-classes-testing-persistent-objects">Testing Persistent Objects</a></li><!--]--><!--[--><li class="nav-item"><a class="nav-link" href="#persistent-classes-summary">Summary</a></li><!--]--><!--]--></ul></li><li class="nav-item"><a class="nav-link" href="#database-transactions">Database Transactions</a><ul class="nav flex-column"><!--[--><!--[--><li class="nav-item"><a class="nav-link" href="#database-transactions-business-service-on-persistent-objects">Business Service on Persistent Objects</a></li><!--]--><!--[--><li class="nav-item"><a class="nav-link" href="#database-transactions-testing-an-update-service">Testing an Update Service</a></li><!--]--><!--[--><li class="nav-item"><a class="nav-link" href="#database-transactions-summary">Summary</a></li><!--]--><!--]--></ul></li><li class="nav-item"><a class="nav-link" href="#query-classes">Query Classes</a><ul class="nav flex-column"><!--[--><!--[--><li class="nav-item"><a class="nav-link" href="#query-classes-create-a-query-service">Create a Query Service</a></li><!--]--><!--[--><li class="nav-item"><a class="nav-link" href="#query-classes-testing-queries">Testing Queries</a></li><!--]--><!--[--><li class="nav-item"><a class="nav-link" href="#query-classes-summary">Summary</a></li><!--]--><!--]--></ul></li><li class="nav-item"><a class="nav-link" href="#rest-api">Rest API</a><ul class="nav flex-column"><!--[--><!--[--><li class="nav-item"><a class="nav-link" href="#rest-api-define-a-service-interface">Define a Service Interface</a></li><!--]--><!--[--><li class="nav-item"><a class="nav-link" href="#rest-api-create-an-api-package">Create an API Package</a></li><!--]--><!--[--><li class="nav-item"><a class="nav-link" href="#rest-api-test-your-first-endpoint">Test your first endpoint</a></li><!--]--><!--[--><li class="nav-item"><a class="nav-link" href="#rest-api-improve-your-api-package">Improve your API Package</a></li><!--]--><!--[--><li class="nav-item"><a class="nav-link" href="#rest-api-summary">Summary</a></li><!--]--><!--]--></ul></li><li class="nav-item"><a class="nav-link" href="#sample-application">Sample Application</a><ul class="nav flex-column"><!--[--><!--[--><li class="nav-item"><a class="nav-link" href="#sample-application-more-reading">More Reading</a></li><!--]--><!--]--></ul></li><!--]--></ul></div><section id="tutorial"><div><h1 id="getting-started"><!--[-->Getting Started<!--]--></h1><p><!--[-->This is a tutorial that aims to help you to understand how to write a backend
using Gazel. Before you begin, you need to create an empty solution.<!--]--></p><p><!--[-->You may download an <a href="https://github.com/multinetinventiv/gazel-samples/tree/main/empty" rel="nofollow" target="_blank"><!--[-->empty solution<!--]--> <i class="fa-solid fa-arrow-up-right-from-square"></i></a> to start right away. Once you open this
solution, directory structure should look like this:<!--]--></p><!--[--><pre><code><div class="line"><span>Inventiv.Sample
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ Inventiv.Sample.App.Rest
â”‚   â”œâ”€â”€ Inventiv.Sample.App.Service
â”‚   â””â”€â”€ Inventiv.Sample.Module.Todo
â””â”€â”€ test
    â””â”€â”€ Inventiv.Sample.Test.Todo</span></div></code></pre><!--]--><p><!--[-->If you want to create an empty solution on your own, have a look at below
pages;<!--]--></p><ul><!--[--><li><!--[--><a href="/setup#create-a-solution" class=""><!--[-->Create a solution<!--]--> <!----></a><!--]--></li><li><!--[--><a href="/setup#add-a-module" class=""><!--[-->Add a module<!--]--> <!----></a><!--]--></li><!--]--></ul><p><!--[-->Basically, you will need to create a new solution named <code><!--[-->Inventiv.Sample<!--]--></code> and
add a new business module named <code><!--[-->Inventiv.Sample.Module.Todo<!--]--></code>.<!--]--></p><p><!--[-->Now that you have done this, you are ready to get started ðŸš€<!--]--></p></div></section><!--[--><section id="hello-world"><div><h1 id="hello-world"><!--[-->Hello World<!--]--></h1><p><!--[-->In this tutorial, you will create a hello world service to have a quick feeling
on how Gazel works.<!--]--></p><h2 id="hello-world-create-a-hello-world-service"><!--[-->Create a Hello World Service<!--]--></h2><p><!--[-->To create a new business service, create a class named <code><!--[-->TodoManager<!--]--></code> in
<code><!--[-->Inventiv.Sample.Module.Todo<!--]--></code> project.<!--]--></p><!--[--><pre><code><div class="line"><span>Inventiv.Sample
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ Inventiv.Sample.App.Rest
â”‚   â”œâ”€â”€ Inventiv.Sample.App.Service
â”‚   â””â”€â”€ Inventiv.Sample.Module.Todo
â”‚       â””â”€â”€ TodoManager.cs
â””â”€â”€ test
    â””â”€â”€ Inventiv.Sample.Test.Todo</span></div></code></pre><!--]--><p><!--[-->Now add a new method called <code><!--[-->SayHello<!--]--></code> to <code><!--[-->TodoManager<!--]--></code> class as shown below.<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-1a45f3">namespace</span><span class="ct-32e53d"> </span><span class="ct-919ba1">Inventiv</span><span class="ct-32e53d">.</span><span class="ct-919ba1">Sample</span><span class="ct-32e53d">.</span><span class="ct-919ba1">Module</span><span class="ct-32e53d">.</span><span class="ct-919ba1">Todo</span><span class="ct-32e53d">;</span></div><div class="line"></div><div class="line"><span class="ct-1a45f3">public</span><span class="ct-32e53d"> </span><span class="ct-1a45f3">class</span><span class="ct-32e53d"> </span><span class="ct-919ba1">TodoManager</span></div><div class="line"><span class="ct-32e53d">{</span></div><div class="line"><span class="ct-32e53d">    </span><span class="ct-1a45f3">public</span><span class="ct-32e53d"> </span><span class="ct-1a45f3">string</span><span class="ct-32e53d"> </span><span class="ct-e8f178">SayHello</span><span class="ct-32e53d">()</span></div><div class="line"><span class="ct-32e53d">    {</span></div><div class="line"><span class="ct-32e53d">        </span><span class="ct-632a5e">return</span><span class="ct-32e53d"> </span><span class="ct-1a9ff3">&quot;Hello World&quot;</span><span class="ct-32e53d">;</span></div><div class="line"><span class="ct-32e53d">    }</span></div><div class="line"><span class="ct-32e53d">}</span></div></code></pre><!--]--><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[--><code><!--[-->public<!--]--></code> instance methods of classes within <em><!--[-->module<!--]--></em> projects are directly
exposed as business <em><!--[-->services<!--]--></em>.<!--]--></p><!--]--><!--]--></div></div><p><!--[-->Now run <code><!--[-->Inventiv.Sample.App.Service<!--]--></code> project, and you will see a test page to
be able to test your services.<!--]--></p><p><!--[-->On the left you will see that Gazel has rendered your <code><!--[-->Todo<!--]--></code> <em><!--[-->module<!--]--></em> and
listed <code><!--[-->TodoManager<!--]--></code> class as a <em><!--[-->service package<!--]--></em>, and under <code><!--[-->Todo Manager<!--]--></code> it
lists your <code><!--[-->SayHello<!--]--></code> method as a <em><!--[-->business service<!--]--></em>. Click <code><!--[-->Say Hello<!--]--></code> and
press <code><!--[-->Call<!--]--></code> button to make a test service request. When you do, you will see a
response saying <code><!--[-->Hello World<!--]--></code>.<!--]--></p><p><!--[--><img src="tutorial/-images/hello-world-service.png" alt=" "><!--]--></p><h2 id="hello-world-writing-a-unit-test"><!--[-->Writing a Unit Test<!--]--></h2><p><!--[-->Now that you have implemented the most basic business service, it is time to
test it.<!--]--></p><p><!--[-->Create a class named <code><!--[-->TodoTest<!--]--></code> in <code><!--[-->Inventiv.Sample.Test.Todo<!--]--></code> project.<!--]--></p><!--[--><pre><code><div class="line"><span>Inventiv.Sample
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ Inventiv.Sample.App.Rest
â”‚   â”œâ”€â”€ Inventiv.Sample.App.Service
â”‚   â””â”€â”€ Inventiv.Sample.Module.Todo
â”‚       â””â”€â”€ TodoManager.cs
â””â”€â”€ test
    â””â”€â”€ Inventiv.Sample.Test.Todo
        â””â”€â”€ TodoTest.cs</span></div></code></pre><!--]--><p><!--[-->Write below code within this class;<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-632a5e">using</span><span class="ct-32e53d"> </span><span class="ct-919ba1">Gazel</span><span class="ct-32e53d">;</span></div><div class="line"><span class="ct-632a5e">using</span><span class="ct-32e53d"> </span><span class="ct-919ba1">Gazel</span><span class="ct-32e53d">.</span><span class="ct-919ba1">UnitTesting</span><span class="ct-32e53d">;</span></div><div class="line"><span class="ct-632a5e">using</span><span class="ct-32e53d"> </span><span class="ct-919ba1">Inventiv</span><span class="ct-32e53d">.</span><span class="ct-919ba1">Sample</span><span class="ct-32e53d">.</span><span class="ct-919ba1">Module</span><span class="ct-32e53d">.</span><span class="ct-919ba1">Todo</span><span class="ct-32e53d">;</span></div><div class="line"></div><div class="line"><span class="ct-1a45f3">namespace</span><span class="ct-32e53d"> </span><span class="ct-919ba1">Inventiv</span><span class="ct-32e53d">.</span><span class="ct-919ba1">Sample</span><span class="ct-32e53d">.</span><span class="ct-919ba1">Test</span><span class="ct-32e53d">.</span><span class="ct-919ba1">Todo</span><span class="ct-32e53d">;</span></div><div class="line"></div><div class="line"><span class="ct-32e53d">[</span><span class="ct-919ba1">TestFixture</span><span class="ct-32e53d">]</span></div><div class="line"><span class="ct-1a45f3">public</span><span class="ct-32e53d"> </span><span class="ct-1a45f3">class</span><span class="ct-32e53d"> </span><span class="ct-919ba1">TodoTest</span><span class="ct-32e53d"> : </span><span class="ct-919ba1">TestBase</span></div><div class="line"><span class="ct-32e53d">{</span></div><div class="line"><span class="ct-32e53d">    </span><span class="ct-1a45f3">static</span><span class="ct-32e53d"> </span><span class="ct-e8f178">TodoTest</span><span class="ct-32e53d">()</span></div><div class="line"><span class="ct-32e53d">    {</span></div><div class="line"><span class="ct-32e53d">        </span><span class="ct-772276">Config</span><span class="ct-32e53d">.</span><span class="ct-772276">RootNamespace</span><span class="ct-32e53d"> = </span><span class="ct-1a9ff3">&quot;Inventiv&quot;</span><span class="ct-32e53d">;</span></div><div class="line"><span class="ct-32e53d">    }</span></div><div class="line"></div><div class="line"><span class="ct-32e53d">    [</span><span class="ct-919ba1">Test</span><span class="ct-32e53d">]</span></div><div class="line"><span class="ct-32e53d">    </span><span class="ct-1a45f3">public</span><span class="ct-32e53d"> </span><span class="ct-1a45f3">void</span><span class="ct-32e53d"> </span><span class="ct-e8f178">SayHello__says_hello</span><span class="ct-32e53d">()</span></div><div class="line"><span class="ct-32e53d">    {</span></div><div class="line"><span class="ct-32e53d">        </span><span class="ct-1a45f3">var</span><span class="ct-32e53d"> </span><span class="ct-772276">todoManager</span><span class="ct-32e53d"> = </span><span class="ct-772276">Context</span><span class="ct-32e53d">.</span><span class="ct-e8f178">Get</span><span class="ct-32e53d">&lt;</span><span class="ct-919ba1">TodoManager</span><span class="ct-32e53d">&gt;();</span></div><div class="line"></div><div class="line"><span class="ct-32e53d">        </span><span class="ct-772276">Assert</span><span class="ct-32e53d">.</span><span class="ct-e8f178">That</span><span class="ct-32e53d">(</span><span class="ct-772276">todoManager</span><span class="ct-32e53d">.</span><span class="ct-e8f178">SayHello</span><span class="ct-32e53d">(), </span><span class="ct-772276">Is</span><span class="ct-32e53d">.</span><span class="ct-e8f178">EqualTo</span><span class="ct-32e53d">(</span><span class="ct-1a9ff3">&quot;Hello World!&quot;</span><span class="ct-32e53d">));</span></div><div class="line"><span class="ct-32e53d">    }</span></div><div class="line"><span class="ct-32e53d">}</span></div></code></pre><!--]--><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[--><code><!--[-->Context<!--]--></code> property comes from <code><!--[-->TestBase<!--]--></code> which allows you to access IoC
container. Manager classes are singleton by convention, so you can access to
<code><!--[-->TodoManager<!--]--></code> instance by <code><!--[-->Context.Get&lt;TodoManager&gt;()<!--]--></code>.<!--]--></p><!--]--><!--]--></div></div><p><!--[-->That&#39;s it. Now you can run this test to see if it succeeds.<!--]--></p><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[-->Gazel uses NUnit for unit testing. For more information about NUnit see:
<a href="https://docs.nunit.org" rel="nofollow" target="_blank"><!--[-->NUnit Documentation<!--]--> <i class="fa-solid fa-arrow-up-right-from-square"></i></a><!--]--></p><!--]--><!--]--></div></div><h2 id="hello-world-summary"><!--[-->Summary<!--]--></h2><p><!--[-->As you can see no configuration is needed to create a new service. Once you&#39;ve
created your solution and projects, every public class in <em><!--[-->module<!--]--></em> projects
becomes a service package and every public method becomes a service by
convention.<!--]--></p><p><!--[-->Now try to add new methods or add parameters, re-run and see the results.<!--]--></p><p><!--[-->Once you are ready, you can proceed to create your first database operation
using Gazel.<!--]--></p><hr><p><!--[-->Here you can download <a href="https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/hello-world" rel="nofollow" target="_blank"><!--[-->source code for this tutorial<!--]--> <i class="fa-solid fa-arrow-up-right-from-square"></i></a>.<!--]--></p><style>.ct-772276{color:#9CDCFE}
.ct-1a9ff3{color:#CE9178}
.ct-632a5e{color:#C586C0}
.ct-e8f178{color:#DCDCAA}
.ct-919ba1{color:#4EC9B0}
.ct-32e53d{color:#D4D4D4}
.ct-1a45f3{color:#569CD6}</style></div></section><section id="persistent-classes"><div><h1 id="persistent-classes"><!--[-->Persistent Classes<!--]--></h1><p><!--[-->In this tutorial, you will create a persistent class and make your first
database operation using Gazel.<!--]--></p><h2 id="persistent-classes-create-a-persistent-class"><!--[-->Create A Persistent Class<!--]--></h2><p><!--[-->Database operations are done using <code><!--[-->Persistent<!--]--></code> objects.<!--]--></p><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[-->An object is <code><!--[-->Persistent<!--]--></code> if its class injects its own repository. For more
information see: <a href="/conventions#data-persistence" class=""><!--[-->Data Persistence<!--]--> <!----></a><!--]--></p><!--]--><!--]--></div></div><p><!--[-->Create a new class named <code><!--[-->TaskCard<!--]--></code> under <code><!--[-->Todo<!--]--></code> module.<!--]--></p><!--[--><pre><code><div class="line"><span>Inventiv.Sample
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ Inventiv.Sample.App.Rest
â”‚   â”œâ”€â”€ Inventiv.Sample.App.Service
â”‚   â””â”€â”€ Inventiv.Sample.Module.Todo
â”‚       â”œâ”€â”€ TodoManager.cs
â”‚       â””â”€â”€ TaskCard.cs
â””â”€â”€ test
    â””â”€â”€ Inventiv.Sample.Test.Todo
        â””â”€â”€ TodoTest.cs</span></div></code></pre><!--]--><p><!--[-->Add following code to your <code><!--[-->TaskCard<!--]--></code> source file.<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-b55775">using</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">Gazel</span><span class="ct-6a2a43">;</span></div><div class="line"><span class="ct-b55775">using</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">Gazel</span><span class="ct-6a2a43">.</span><span class="ct-320ea7">DataAccess</span><span class="ct-6a2a43">;</span></div><div class="line"></div><div class="line"><span class="ct-421b66">namespace</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">Inventiv</span><span class="ct-6a2a43">.</span><span class="ct-320ea7">Sample</span><span class="ct-6a2a43">.</span><span class="ct-320ea7">Module</span><span class="ct-6a2a43">.</span><span class="ct-320ea7">Todo</span><span class="ct-6a2a43">;</span></div><div class="line"></div><div class="line"><span class="ct-421b66">public</span><span class="ct-6a2a43"> </span><span class="ct-421b66">class</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">TaskCard</span></div><div class="line"><span class="ct-6a2a43">{</span></div><div class="line"><span class="ct-6a2a43">    </span><span class="ct-421b66">private</span><span class="ct-6a2a43"> </span><span class="ct-421b66">readonly</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">IRepository</span><span class="ct-6a2a43">&lt;</span><span class="ct-320ea7">TaskCard</span><span class="ct-6a2a43">&gt; </span><span class="ct-6ac6b8">_repository</span><span class="ct-6a2a43"> = </span><span class="ct-6ac6b8">default</span><span class="ct-6a2a43">!;</span></div><div class="line"></div><div class="line"><span class="ct-6a2a43">    </span><span class="ct-421b66">protected</span><span class="ct-6a2a43"> </span><span class="ct-902aef">TaskCard</span><span class="ct-6a2a43">() { }</span></div><div class="line"><span class="ct-6a2a43">    </span><span class="ct-421b66">public</span><span class="ct-6a2a43"> </span><span class="ct-902aef">TaskCard</span><span class="ct-6a2a43">(</span><span class="ct-320ea7">IRepository</span><span class="ct-6a2a43">&lt;</span><span class="ct-320ea7">TaskCard</span><span class="ct-6a2a43">&gt; </span><span class="ct-6ac6b8">repository</span><span class="ct-6a2a43">)</span></div><div class="line"><span class="ct-6a2a43">    {</span></div><div class="line"><span class="ct-6a2a43">        </span><span class="ct-6ac6b8">_repository</span><span class="ct-6a2a43"> = </span><span class="ct-6ac6b8">repository</span><span class="ct-6a2a43">;</span></div><div class="line"><span class="ct-6a2a43">    }</span></div><div class="line"><span class="ct-6a2a43">}</span></div><div class="line"></div><div class="line"><span class="ct-421b66">public</span><span class="ct-6a2a43"> </span><span class="ct-421b66">class</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">TaskCards</span><span class="ct-6a2a43"> : </span><span class="ct-320ea7">Query</span><span class="ct-6a2a43">&lt;</span><span class="ct-320ea7">TaskCard</span><span class="ct-6a2a43">&gt;</span></div><div class="line"><span class="ct-6a2a43">{</span></div><div class="line"><span class="ct-6a2a43">    </span><span class="ct-421b66">public</span><span class="ct-6a2a43"> </span><span class="ct-902aef">TaskCards</span><span class="ct-6a2a43">(</span><span class="ct-320ea7">IModuleContext</span><span class="ct-6a2a43"> </span><span class="ct-6ac6b8">context</span><span class="ct-6a2a43">) : </span><span class="ct-421b66">base</span><span class="ct-6a2a43">(</span><span class="ct-6ac6b8">context</span><span class="ct-6a2a43">) { }</span></div><div class="line"><span class="ct-6a2a43">}</span></div></code></pre><!--]--><p><!--[-->Each <code><!--[-->TaskCard<!--]--></code> object will represent one row in <code><!--[-->TaskCard<!--]--></code> table.<!--]--></p><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[--><code><!--[-->TaskCards<!--]--></code> class is registered to IoC as a singleton by convention and it
will consist of queries to that table. In this tutorial you will not write
any queries. Leave this class empty for now.<!--]--></p><!--]--><!--]--></div></div><p><!--[--><code><!--[-->TaskCard<!--]--></code> class, by injecting its own repository, indicates that its a
persistent class.<!--]--></p><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[-->Notice that both classes are subject to dependency injection.<!--]--></p><p><!--[--><code><!--[-->protected TaskCard() { }<!--]--></code> constructor is there for NHibernate to create
proxies for lazy loading.<!--]--></p><!--]--><!--]--></div></div><p><!--[-->Now you can add properties to your <code><!--[-->TaskCard<!--]--></code> class as shown below;<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-6a2a43">...</span></div><div class="line"><span class="ct-421b66">public</span><span class="ct-6a2a43"> </span><span class="ct-421b66">class</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">TaskCard</span></div><div class="line"><span class="ct-6a2a43">{</span></div><div class="line"><span class="ct-6a2a43">    ...</span></div><div class="line"><span class="ct-6a2a43">    </span><span class="ct-421b66">public</span><span class="ct-6a2a43"> </span><span class="ct-421b66">virtual</span><span class="ct-6a2a43"> </span><span class="ct-421b66">int</span><span class="ct-6a2a43"> </span><span class="ct-6ac6b8">Id</span><span class="ct-6a2a43"> { </span><span class="ct-421b66">get</span><span class="ct-6a2a43">; </span><span class="ct-421b66">protected</span><span class="ct-6a2a43"> </span><span class="ct-421b66">set</span><span class="ct-6a2a43">; }</span></div><div class="line"><span class="ct-6a2a43">    </span><span class="ct-421b66">public</span><span class="ct-6a2a43"> </span><span class="ct-421b66">virtual</span><span class="ct-6a2a43"> </span><span class="ct-421b66">string</span><span class="ct-6a2a43">? </span><span class="ct-6ac6b8">Name</span><span class="ct-6a2a43"> { </span><span class="ct-421b66">get</span><span class="ct-6a2a43">; </span><span class="ct-421b66">protected</span><span class="ct-6a2a43"> </span><span class="ct-421b66">set</span><span class="ct-6a2a43">; }</span></div><div class="line"><span class="ct-6a2a43">    </span><span class="ct-421b66">public</span><span class="ct-6a2a43"> </span><span class="ct-421b66">virtual</span><span class="ct-6a2a43"> </span><span class="ct-421b66">bool</span><span class="ct-6a2a43"> </span><span class="ct-6ac6b8">Completed</span><span class="ct-6a2a43"> { </span><span class="ct-421b66">get</span><span class="ct-6a2a43">; </span><span class="ct-421b66">protected</span><span class="ct-6a2a43"> </span><span class="ct-421b66">set</span><span class="ct-6a2a43">; }</span></div><div class="line"><span class="ct-6a2a43">    ...</span></div><div class="line"><span class="ct-6a2a43">}</span></div><div class="line"><span class="ct-6a2a43">...</span></div></code></pre><!--]--><p><!--[-->First property is mandatory for all persistent classes. Gazel requires an
integer Id column for every table.<!--]--></p><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[-->The reason for <code><!--[-->protected<!--]--></code> setters is to implement domain logic inside
persistent classes.<!--]--></p><p><!--[--><code><!--[-->virtual<!--]--></code> keywords are there for NHibernate to create proxies for lazy
loading.<!--]--></p><!--]--><!--]--></div></div><p><!--[-->These properties are automatically mapped to columns of <code><!--[-->TaskCard<!--]--></code> table in
<code><!--[-->gazel.tutorial.db<!--]--></code> database.<!--]--></p><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[-->Note that you don&#39;t have to create tables and columns in your SQLite
database.  When in local development mode, Gazel configures NHibernate&#39;s
SQLite connection to automatically create database schema.<!--]--></p><!--]--><!--]--></div></div><p><!--[-->Now add following method to <code><!--[-->TaskCard<!--]--></code> class.<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-6a2a43">...</span></div><div class="line"><span class="ct-421b66">public</span><span class="ct-6a2a43"> </span><span class="ct-421b66">class</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">TaskCard</span></div><div class="line"><span class="ct-6a2a43">{</span></div><div class="line"><span class="ct-6a2a43">    ...</span></div><div class="line"><span class="ct-6a2a43">    </span><span class="ct-421b66">protected</span><span class="ct-6a2a43"> </span><span class="ct-421b66">internal</span><span class="ct-6a2a43"> </span><span class="ct-421b66">virtual</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">TaskCard</span><span class="ct-6a2a43"> </span><span class="ct-902aef">With</span><span class="ct-6a2a43">(</span><span class="ct-421b66">string</span><span class="ct-6a2a43">? </span><span class="ct-6ac6b8">name</span><span class="ct-6a2a43">)</span></div><div class="line"><span class="ct-6a2a43">    {</span></div><div class="line"><span class="ct-6a2a43">        </span><span class="ct-6ac6b8">Name</span><span class="ct-6a2a43"> = </span><span class="ct-6ac6b8">name</span><span class="ct-6a2a43">;</span></div><div class="line"><span class="ct-6a2a43">        </span><span class="ct-6ac6b8">Completed</span><span class="ct-6a2a43"> = </span><span class="ct-421b66">false</span><span class="ct-6a2a43">;</span></div><div class="line"></div><div class="line"><span class="ct-6a2a43">        </span><span class="ct-6ac6b8">_repository</span><span class="ct-6a2a43">.</span><span class="ct-902aef">Insert</span><span class="ct-6a2a43">(</span><span class="ct-421b66">this</span><span class="ct-6a2a43">);</span></div><div class="line"></div><div class="line"><span class="ct-6a2a43">        </span><span class="ct-b55775">return</span><span class="ct-6a2a43"> </span><span class="ct-421b66">this</span><span class="ct-6a2a43">;</span></div><div class="line"><span class="ct-6a2a43">    }</span></div><div class="line"><span class="ct-6a2a43">    ...</span></div><div class="line"><span class="ct-6a2a43">}</span></div><div class="line"><span class="ct-6a2a43">...</span></div></code></pre><!--]--><p><!--[-->For persistent classes construction is in two steps. First step is the actual
constructor, and second step is <code><!--[-->With<!--]--></code> methods which takes instance arguments
and inserts a row to database via <code><!--[-->_repository<!--]--></code>.<!--]--></p><p><!--[-->Go to <code><!--[-->TodoManager<!--]--></code> class in <code><!--[-->Todo<!--]--></code> module and modify its content with the
following code;<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-b55775">using</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">Gazel</span><span class="ct-6a2a43">;</span></div><div class="line"></div><div class="line"><span class="ct-421b66">namespace</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">Inventiv</span><span class="ct-6a2a43">.</span><span class="ct-320ea7">Sample</span><span class="ct-6a2a43">.</span><span class="ct-320ea7">Module</span><span class="ct-6a2a43">.</span><span class="ct-320ea7">Todo</span><span class="ct-6a2a43">;</span></div><div class="line"></div><div class="line"><span class="ct-421b66">public</span><span class="ct-6a2a43"> </span><span class="ct-421b66">class</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">TodoManager</span></div><div class="line"><span class="ct-6a2a43">{</span></div><div class="line"><span class="ct-6a2a43">    </span><span class="ct-421b66">private</span><span class="ct-6a2a43"> </span><span class="ct-421b66">readonly</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">IModuleContext</span><span class="ct-6a2a43"> </span><span class="ct-6ac6b8">_context</span><span class="ct-6a2a43">;</span></div><div class="line"></div><div class="line"><span class="ct-6a2a43">    </span><span class="ct-421b66">public</span><span class="ct-6a2a43"> </span><span class="ct-902aef">TodoManager</span><span class="ct-6a2a43">(</span><span class="ct-320ea7">IModuleContext</span><span class="ct-6a2a43"> </span><span class="ct-6ac6b8">context</span><span class="ct-6a2a43">)</span></div><div class="line"><span class="ct-6a2a43">    {</span></div><div class="line"><span class="ct-6a2a43">        </span><span class="ct-6ac6b8">_context</span><span class="ct-6a2a43"> = </span><span class="ct-6ac6b8">context</span><span class="ct-6a2a43">;</span></div><div class="line"><span class="ct-6a2a43">    }</span></div><div class="line"></div><div class="line"><span class="ct-6a2a43">    </span><span class="ct-421b66">public</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">TaskCard</span><span class="ct-6a2a43"> </span><span class="ct-902aef">CreateTaskCard</span><span class="ct-6a2a43">(</span><span class="ct-421b66">string</span><span class="ct-6a2a43">? </span><span class="ct-6ac6b8">name</span><span class="ct-6a2a43">)</span></div><div class="line"><span class="ct-6a2a43">    {</span></div><div class="line"><span class="ct-6a2a43">        </span><span class="ct-b55775">return</span><span class="ct-6a2a43"> </span><span class="ct-6ac6b8">_context</span><span class="ct-6a2a43">.</span><span class="ct-902aef">New</span><span class="ct-6a2a43">&lt;</span><span class="ct-320ea7">TaskCard</span><span class="ct-6a2a43">&gt;().</span><span class="ct-902aef">With</span><span class="ct-6a2a43">(</span><span class="ct-6ac6b8">name</span><span class="ct-6a2a43">);</span></div><div class="line"><span class="ct-6a2a43">    }</span></div><div class="line"><span class="ct-6a2a43">}</span></div></code></pre><!--]--><p><!--[-->You&#39;ve created a business service named <code><!--[-->CreateTaskCard<!--]--></code> that inserts a new
task card record with the given name. As mentioned above, construction is done
in two steps;<!--]--></p><ol><!--[--><li><!--[-->The first one is <code><!--[-->_context.New&lt;TaskCard&gt;()<!--]--></code> which initiates a new <code><!--[-->TaskCard<!--]--></code>
object using IoC container,<!--]--></li><li><!--[-->And the second one is <code><!--[-->.With(name)<!--]--></code> which inserts a new record using its own
<code><!--[-->_repository<!--]--></code>.<!--]--></li><!--]--></ol><p><!--[-->So together you read this as &quot;<strong><!--[-->new task card with name<!--]--></strong>&quot;.<!--]--></p><p><!--[-->Now run <code><!--[-->App.Service<!--]--></code> project to see your new service <code><!--[-->Create Task Card<!--]--></code> and
create task cards using it.<!--]--></p><p><!--[--><img src="tutorial/-images/create-task-card.png" alt=" "><!--]--></p><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[-->Note that Id&#39;s are assigned from database. This is the default mapping
configuration Gazel applies to NHibernate.<!--]--></p><!--]--><!--]--></div></div><h2 id="persistent-classes-testing-persistent-objects"><!--[-->Testing Persistent Objects<!--]--></h2><p><!--[-->Go to <code><!--[-->TodoTest<!--]--></code> class in <code><!--[-->Test.Todo<!--]--></code> add following test case;<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-6a2a43">...</span></div><div class="line"><span class="ct-6a2a43">[</span><span class="ct-320ea7">TestFixture</span><span class="ct-6a2a43">]</span></div><div class="line"><span class="ct-421b66">public</span><span class="ct-6a2a43"> </span><span class="ct-421b66">class</span><span class="ct-6a2a43"> </span><span class="ct-320ea7">TodoTest</span><span class="ct-6a2a43"> : </span><span class="ct-320ea7">TestBase</span></div><div class="line"><span class="ct-6a2a43">{</span></div><div class="line"><span class="ct-6a2a43">    ...</span></div><div class="line"><span class="ct-6a2a43">    [</span><span class="ct-320ea7">Test</span><span class="ct-6a2a43">]</span></div><div class="line"><span class="ct-6a2a43">    </span><span class="ct-421b66">public</span><span class="ct-6a2a43"> </span><span class="ct-421b66">void</span><span class="ct-6a2a43"> </span><span class="ct-902aef">CreateTaskCard__creates_a_task_card_using_given_name</span><span class="ct-6a2a43">()</span></div><div class="line"><span class="ct-6a2a43">    {</span></div><div class="line"><span class="ct-6a2a43">        </span><span class="ct-421b66">var</span><span class="ct-6a2a43"> </span><span class="ct-6ac6b8">todoManager</span><span class="ct-6a2a43"> = </span><span class="ct-6ac6b8">Context</span><span class="ct-6a2a43">.</span><span class="ct-902aef">Get</span><span class="ct-6a2a43">&lt;</span><span class="ct-320ea7">TodoManager</span><span class="ct-6a2a43">&gt;();</span></div><div class="line"></div><div class="line"><span class="ct-6a2a43">        </span><span class="ct-902aef">BeginTest</span><span class="ct-6a2a43">();</span></div><div class="line"></div><div class="line"><span class="ct-6a2a43">        </span><span class="ct-421b66">var</span><span class="ct-6a2a43"> </span><span class="ct-6ac6b8">actual</span><span class="ct-6a2a43"> = </span><span class="ct-6ac6b8">todoManager</span><span class="ct-6a2a43">.</span><span class="ct-902aef">CreateTaskCard</span><span class="ct-6a2a43">(</span><span class="ct-aea5d6">&quot;Write Tests&quot;</span><span class="ct-6a2a43">);</span></div><div class="line"></div><div class="line"><span class="ct-6a2a43">        </span><span class="ct-6ac6b8">Verify</span><span class="ct-6a2a43">.</span><span class="ct-902aef">ObjectIsPersisted</span><span class="ct-6a2a43">(</span><span class="ct-6ac6b8">actual</span><span class="ct-6a2a43">);</span></div><div class="line"><span class="ct-6a2a43">        </span><span class="ct-6ac6b8">Assert</span><span class="ct-6a2a43">.</span><span class="ct-902aef">That</span><span class="ct-6a2a43">(</span><span class="ct-6ac6b8">actual</span><span class="ct-6a2a43">.</span><span class="ct-6ac6b8">Name</span><span class="ct-6a2a43">, </span><span class="ct-6ac6b8">Is</span><span class="ct-6a2a43">.</span><span class="ct-902aef">EqualTo</span><span class="ct-6a2a43">(</span><span class="ct-aea5d6">&quot;Write Tests&quot;</span><span class="ct-6a2a43">));</span></div><div class="line"><span class="ct-6a2a43">    }</span></div><div class="line"><span class="ct-6a2a43">    ...</span></div><div class="line"><span class="ct-6a2a43">}</span></div><div class="line"><span class="ct-6a2a43">...</span></div></code></pre><!--]--><div class="alert alert-secondary row"><!----><div class="col"><!--[--><!--[--><p><!--[-->You may remove <code><!--[-->SayHello__says_hello<!--]--></code> test case from previous tutorial.<!--]--></p><!--]--><!--]--></div></div><p><!--[-->Here is what this test does in terms of AAA pattern;<!--]--></p><ul><!--[--><li><!--[--><em><!--[-->Arrange<!--]--></em>: Gets <code><!--[-->TodoManager<!--]--></code> instance from context<!--]--></li><li><!--[--><em><!--[-->Act<!--]--></em>: Creates a task card named &quot;Write Tests&quot;<!--]--></li><li><!--[--><em><!--[-->Assert<!--]--></em>: Verifies that the <code><!--[-->TaskCard<!--]--></code> object is persisted and its name is
&quot;Write Tests&quot;<!--]--></li><!--]--></ul><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[--><code><!--[-->BeginTest()<!--]--></code> call prepares underlying mechanism for the execution of service
under test.<!--]--></p><p><!--[-->Verify property comes from <code><!--[-->TestBase<!--]--></code> class. It basically helps you to check
if object is persisted or deleted.<!--]--></p><p><!--[-->When testing, Gazel configures a fake service application in which there is a
database connection to an in-memory SQLite database. For every test case, it
begins a transaction and rollbacks after execution.<!--]--></p><!--]--><!--]--></div></div><h2 id="persistent-classes-summary"><!--[-->Summary<!--]--></h2><p><!--[-->Like manager classes, persistent classes also follow conventions. In this
tutorial you&#39;ve created a table and a create service using no configuration.<!--]--></p><p><!--[-->Now try to add new properties to <code><!--[-->TaskCard<!--]--></code> class or add new persistent
classes, re-run and see the results.<!--]--></p><p><!--[-->Once you are ready, you can proceed to learn how to update a record in
database.<!--]--></p><hr><p><!--[-->Here you can download <a href="https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/persistent-classes" rel="nofollow" target="_blank"><!--[-->source code for this tutorial<!--]--> <i class="fa-solid fa-arrow-up-right-from-square"></i></a>.<!--]--></p><style>.ct-aea5d6{color:#CE9178}
.ct-902aef{color:#DCDCAA}
.ct-6ac6b8{color:#9CDCFE}
.ct-421b66{color:#569CD6}
.ct-320ea7{color:#4EC9B0}
.ct-6a2a43{color:#D4D4D4}
.ct-b55775{color:#C586C0}</style></div></section><section id="database-transactions"><div><h1 id="database-transactions"><!--[-->Database Transactions<!--]--></h1><p><!--[-->In this tutorial, you will create an update service and learn about how Gazel
manages database transactions.<!--]--></p><h2 id="database-transactions-business-service-on-persistent-objects"><!--[-->Business Service on Persistent Objects<!--]--></h2><p><!--[-->Now that you&#39;ve created task cards, it&#39;s time to complete them. To do this add
following method to your <code><!--[-->TaskCard<!--]--></code> class.<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-9680b2">...</span></div><div class="line"><span class="ct-1234e4">public</span><span class="ct-9680b2"> </span><span class="ct-1234e4">class</span><span class="ct-9680b2"> </span><span class="ct-2a2a6d">TaskCard</span></div><div class="line"><span class="ct-9680b2">{</span></div><div class="line"><span class="ct-9680b2">    ...</span></div><div class="line"><span class="ct-9680b2">    </span><span class="ct-1234e4">public</span><span class="ct-9680b2"> </span><span class="ct-1234e4">virtual</span><span class="ct-9680b2"> </span><span class="ct-1234e4">void</span><span class="ct-9680b2"> </span><span class="ct-6ecb3e">Complete</span><span class="ct-9680b2">()</span></div><div class="line"><span class="ct-9680b2">    {</span></div><div class="line"><span class="ct-9680b2">        </span><span class="ct-6df162">Completed</span><span class="ct-9680b2"> = </span><span class="ct-1234e4">true</span><span class="ct-9680b2">;</span></div><div class="line"><span class="ct-9680b2">    }</span></div><div class="line"><span class="ct-9680b2">    ...</span></div><div class="line"><span class="ct-9680b2">}</span></div><div class="line"><span class="ct-9680b2">...</span></div></code></pre><!--]--><p><!--[-->And that&#39;s it. You&#39;ve created a <code><!--[-->Complete<!--]--></code> service.<!--]--></p><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[-->There is no need to create a database transaction, before every service call
Gazel automatically opens a database connection and begins a transaction.<!--]--></p><!--]--><!--]--></div></div><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[-->Notice that you don&#39;t have to call an update method in repository. Gazel
configures NHibernate in auto update mode. This means it makes a dirty check
upon commit and update rows when there is a change.<!--]--></p><!--]--><!--]--></div></div><p><!--[-->Build and run <code><!--[-->App.Service<!--]--></code> again. Now you will see a <code><!--[-->TaskCard<!--]--></code> service
package and under this package there is <code><!--[-->Complete<!--]--></code> service. Since this service
requires a row in database, <code><!--[-->Id<!--]--></code> parameter is added automatically.<!--]--></p><p><!--[-->Go and create a task card using <code><!--[-->Task Manager / Create Task Card<!--]--></code> and use that
object&#39;s <code><!--[-->Id<!--]--></code> in <code><!--[-->Target/Id<!--]--></code> field of <code><!--[-->Complete<!--]--></code> service.<!--]--></p><p><!--[-->When you press call button you will see following screen;<!--]--></p><p><!--[--><img src="tutorial/-images/complete-task.png" alt=" "><!--]--></p><h3 id="database-transactions-important-note-on-protected-setters"><!--[-->Important note on <code><!--[-->protected<!--]--></code> setters<!--]--></h3><p><!--[-->You may remember that we used <code><!--[-->protected<!--]--></code> access modifier on property setters
as shown below;<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-9680b2">...</span></div><div class="line"><span class="ct-1234e4">public</span><span class="ct-9680b2"> </span><span class="ct-1234e4">class</span><span class="ct-9680b2"> </span><span class="ct-2a2a6d">TaskCard</span></div><div class="line"><span class="ct-9680b2">{</span></div><div class="line"><span class="ct-9680b2">    ...</span></div><div class="line"><span class="ct-9680b2">    </span><span class="ct-1234e4">public</span><span class="ct-9680b2"> </span><span class="ct-1234e4">virtual</span><span class="ct-9680b2"> </span><span class="ct-1234e4">int</span><span class="ct-9680b2"> </span><span class="ct-6df162">Id</span><span class="ct-9680b2"> { </span><span class="ct-1234e4">get</span><span class="ct-9680b2">; </span><span class="ct-1234e4">protected</span><span class="ct-9680b2"> </span><span class="ct-1234e4">set</span><span class="ct-9680b2">; }</span></div><div class="line"><span class="ct-9680b2">    </span><span class="ct-1234e4">public</span><span class="ct-9680b2"> </span><span class="ct-1234e4">virtual</span><span class="ct-9680b2"> </span><span class="ct-1234e4">string</span><span class="ct-9680b2">? </span><span class="ct-6df162">Name</span><span class="ct-9680b2"> { </span><span class="ct-1234e4">get</span><span class="ct-9680b2">; </span><span class="ct-1234e4">protected</span><span class="ct-9680b2"> </span><span class="ct-1234e4">set</span><span class="ct-9680b2">; }</span></div><div class="line"><span class="ct-9680b2">    </span><span class="ct-1234e4">public</span><span class="ct-9680b2"> </span><span class="ct-1234e4">virtual</span><span class="ct-9680b2"> </span><span class="ct-1234e4">bool</span><span class="ct-9680b2"> </span><span class="ct-6df162">Completed</span><span class="ct-9680b2"> { </span><span class="ct-1234e4">get</span><span class="ct-9680b2">; </span><span class="ct-1234e4">protected</span><span class="ct-9680b2"> </span><span class="ct-1234e4">set</span><span class="ct-9680b2">; }</span></div><div class="line"><span class="ct-9680b2">    ...</span></div><div class="line"><span class="ct-9680b2"> }</span></div><div class="line"><span class="ct-9680b2"> ...</span></div></code></pre><!--]--><p><!--[-->As mentioned before <code><!--[-->protected<!--]--></code> setters ensure that data of a persistent object
can only be updated within its own class. Gazel is designed to welcome business
services on persistent classes.<!--]--></p><p><!--[-->If you allow <code><!--[-->public<!--]--></code> setters, that is fine too. But this would make it
possible to update a property value from outside. This is because we use auto
update feature of NHibernate.<!--]--></p><p><!--[-->Always remember that persistent objects in Gazel are not simle DTOs. They are
context aware domain objects that manages a row in a database.<!--]--></p><h2 id="database-transactions-testing-an-update-service"><!--[-->Testing an Update Service<!--]--></h2><p><!--[-->Let&#39;s move on to testing. Now add following test to your <code><!--[-->TodoTest<!--]--></code> test class;<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-9680b2">...</span></div><div class="line"><span class="ct-9680b2">[</span><span class="ct-2a2a6d">TestFixture</span><span class="ct-9680b2">]</span></div><div class="line"><span class="ct-1234e4">public</span><span class="ct-9680b2"> </span><span class="ct-1234e4">class</span><span class="ct-9680b2"> </span><span class="ct-2a2a6d">TodoTest</span><span class="ct-9680b2"> : </span><span class="ct-2a2a6d">TestBase</span></div><div class="line"><span class="ct-9680b2">{</span></div><div class="line"><span class="ct-9680b2">    ...</span></div><div class="line"><span class="ct-9680b2">    [</span><span class="ct-2a2a6d">Test</span><span class="ct-9680b2">]</span></div><div class="line"><span class="ct-9680b2">    </span><span class="ct-1234e4">public</span><span class="ct-9680b2"> </span><span class="ct-1234e4">void</span><span class="ct-9680b2"> </span><span class="ct-6ecb3e">Complete__marks_task_card_as_completed</span><span class="ct-9680b2">()</span></div><div class="line"><span class="ct-9680b2">    {</span></div><div class="line"><span class="ct-9680b2">        </span><span class="ct-1234e4">var</span><span class="ct-9680b2"> </span><span class="ct-6df162">todoManager</span><span class="ct-9680b2"> = </span><span class="ct-6df162">Context</span><span class="ct-9680b2">.</span><span class="ct-6ecb3e">Get</span><span class="ct-9680b2">&lt;</span><span class="ct-2a2a6d">TodoManager</span><span class="ct-9680b2">&gt;();</span></div><div class="line"><span class="ct-9680b2">        </span><span class="ct-1234e4">var</span><span class="ct-9680b2"> </span><span class="ct-6df162">taskCard</span><span class="ct-9680b2"> = </span><span class="ct-6df162">todoManager</span><span class="ct-9680b2">.</span><span class="ct-6ecb3e">CreateTaskCard</span><span class="ct-9680b2">(</span><span class="ct-bd1d57">&quot;Write Tests&quot;</span><span class="ct-9680b2">);</span></div><div class="line"></div><div class="line"><span class="ct-9680b2">        </span><span class="ct-6ecb3e">BeginTest</span><span class="ct-9680b2">();</span></div><div class="line"></div><div class="line"><span class="ct-9680b2">        </span><span class="ct-6df162">taskCard</span><span class="ct-9680b2">.</span><span class="ct-6ecb3e">Complete</span><span class="ct-9680b2">();</span></div><div class="line"></div><div class="line"><span class="ct-9680b2">        </span><span class="ct-6df162">Assert</span><span class="ct-9680b2">.</span><span class="ct-6ecb3e">That</span><span class="ct-9680b2">(</span><span class="ct-6df162">taskCard</span><span class="ct-9680b2">.</span><span class="ct-6df162">Completed</span><span class="ct-9680b2">, </span><span class="ct-6df162">Is</span><span class="ct-9680b2">.</span><span class="ct-6df162">True</span><span class="ct-9680b2">);</span></div><div class="line"><span class="ct-9680b2">    }</span></div><div class="line"><span class="ct-9680b2">}</span></div><div class="line"><span class="ct-9680b2">...</span></div></code></pre><!--]--><p><!--[-->Here&#39;s what you&#39;ve done;<!--]--></p><ul><!--[--><li><!--[--><em><!--[-->Arrange<!--]--></em>: Get <code><!--[-->TodoManager<!--]--></code> object and create a task card named &quot;Write
Tests&quot;<!--]--></li><li><!--[--><em><!--[-->Act<!--]--></em>: Complete the new <code><!--[-->TaskCard<!--]--></code> object<!--]--></li><li><!--[--><em><!--[-->Assert<!--]--></em>: Assert that task card is completed<!--]--></li><!--]--></ul><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[-->Note that this time <code><!--[-->CreateTaskCard<!--]--></code> is moved before <code><!--[-->BeginTest()<!--]--></code>. This is
because for this test case creating a task card is a part of the <em><!--[-->arrange<!--]--></em>
step.<!--]--></p><!--]--><!--]--></div></div><h2 id="database-transactions-summary"><!--[-->Summary<!--]--></h2><p><!--[-->In this tutorial you&#39;ve learned how to write a simple update service to a
method. Now try to add new properties and methods to your persistent classes,
re-run and see the results.<!--]--></p><p><!--[-->Once you are ready, you can proceed to learn how to write query services.<!--]--></p><hr><p><!--[-->Here you can download <a href="https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/database-transactions" rel="nofollow" target="_blank"><!--[-->source code for this tutorial<!--]--> <i class="fa-solid fa-arrow-up-right-from-square"></i></a>.<!--]--></p><style>.ct-bd1d57{color:#CE9178}
.ct-6df162{color:#9CDCFE}
.ct-6ecb3e{color:#DCDCAA}
.ct-2a2a6d{color:#4EC9B0}
.ct-1234e4{color:#569CD6}
.ct-9680b2{color:#D4D4D4}</style></div></section><section id="query-classes"><div><h1 id="query-classes"><!--[-->Query Classes<!--]--></h1><p><!--[-->In this tutorial, you will create a query service and learn about query service
conventions.<!--]--></p><h2 id="query-classes-create-a-query-service"><!--[-->Create a Query Service<!--]--></h2><p><!--[-->Now you will create a query service to see all completed task cards. Add below
code to <code><!--[-->TaskCards<!--]--></code> class in <code><!--[-->TaskCard.cs<!--]--></code>.<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-7b05a8">...</span></div><div class="line"><span class="ct-c243a8">public</span><span class="ct-7b05a8"> </span><span class="ct-c243a8">class</span><span class="ct-7b05a8"> </span><span class="ct-b3f2d6">TaskCards</span><span class="ct-7b05a8"> : </span><span class="ct-b3f2d6">Query</span><span class="ct-7b05a8">&lt;</span><span class="ct-b3f2d6">TaskCard</span><span class="ct-7b05a8">&gt;</span></div><div class="line"><span class="ct-7b05a8">{</span></div><div class="line"><span class="ct-7b05a8">    ...</span></div><div class="line"><span class="ct-7b05a8">    </span><span class="ct-c243a8">public</span><span class="ct-7b05a8"> </span><span class="ct-b3f2d6">List</span><span class="ct-7b05a8">&lt;</span><span class="ct-b3f2d6">TaskCard</span><span class="ct-7b05a8">&gt; </span><span class="ct-d9ef59">ByCompleted</span><span class="ct-7b05a8">(</span><span class="ct-c243a8">bool</span><span class="ct-7b05a8"> </span><span class="ct-b1f3db">completed</span><span class="ct-7b05a8">)</span></div><div class="line"><span class="ct-7b05a8">    {</span></div><div class="line"><span class="ct-7b05a8">        </span><span class="ct-335e82">return</span><span class="ct-7b05a8"> </span><span class="ct-d9ef59">By</span><span class="ct-7b05a8">(</span><span class="ct-b1f3db">t</span><span class="ct-7b05a8"> =&gt; </span><span class="ct-b1f3db">t</span><span class="ct-7b05a8">.</span><span class="ct-b1f3db">Completed</span><span class="ct-7b05a8"> == </span><span class="ct-b1f3db">completed</span><span class="ct-7b05a8">);</span></div><div class="line"><span class="ct-7b05a8">    }</span></div><div class="line"><span class="ct-7b05a8">    ...</span></div><div class="line"><span class="ct-7b05a8">}</span></div><div class="line"><span class="ct-7b05a8">...</span></div></code></pre><!--]--><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[--><code><!--[-->By<!--]--></code> method is inherited from <code><!--[-->Query&lt;T&gt;<!--]--></code> base class, and it simply accepts a
lambda expression with one parameter of type <code><!--[-->T<!--]--></code> which is <code><!--[-->TaskCard<!--]--></code> in this
example.<!--]--></p><!--]--><!--]--></div></div><p><!--[-->Like every public method, this query method is also exposed as a business
service. Build and run <code><!--[-->App.Service<!--]--></code> to see your completed task cards.<!--]--></p><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[-->Query naming conventions;<!--]--></p><ul><!--[--><li><!--[-->When a query method returns a list of objects, the convention is to name it
as <code><!--[-->By<!--]--></code>.<!--]--></li><li><!--[-->When a query method takes only one parameter, method name contains
parameter name as a suffix.<!--]--></li><!--]--></ul><p><!--[-->So by these conventions we named this query as <code><!--[-->ByCompleted<!--]--></code>. For more
information see: <a href="/conventions#queries" class=""><!--[-->Queries<!--]--> <!----></a><!--]--></p><!--]--><!--]--></div></div><h2 id="query-classes-testing-queries"><!--[-->Testing Queries<!--]--></h2><p><!--[-->Now add following test case to your <code><!--[-->TodoTest<!--]--></code> class;<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-7b05a8">...</span></div><div class="line"><span class="ct-7b05a8">[</span><span class="ct-b3f2d6">TestFixture</span><span class="ct-7b05a8">]</span></div><div class="line"><span class="ct-c243a8">public</span><span class="ct-7b05a8"> </span><span class="ct-c243a8">class</span><span class="ct-7b05a8"> </span><span class="ct-b3f2d6">TodoTest</span><span class="ct-7b05a8"> : </span><span class="ct-b3f2d6">TestBase</span></div><div class="line"><span class="ct-7b05a8">{</span></div><div class="line"><span class="ct-7b05a8">    ...</span></div><div class="line"><span class="ct-7b05a8">    [</span><span class="ct-b3f2d6">Test</span><span class="ct-7b05a8">]</span></div><div class="line"><span class="ct-7b05a8">    </span><span class="ct-c243a8">public</span><span class="ct-7b05a8"> </span><span class="ct-c243a8">void</span><span class="ct-7b05a8"> </span><span class="ct-d9ef59">TaskCards_ByCompleted__filters_task_cards_by_completed_column</span><span class="ct-7b05a8">()</span></div><div class="line"><span class="ct-7b05a8">    {</span></div><div class="line"><span class="ct-7b05a8">        </span><span class="ct-c243a8">var</span><span class="ct-7b05a8"> </span><span class="ct-b1f3db">todoManager</span><span class="ct-7b05a8"> = </span><span class="ct-b1f3db">Context</span><span class="ct-7b05a8">.</span><span class="ct-d9ef59">Get</span><span class="ct-7b05a8">&lt;</span><span class="ct-b3f2d6">TodoManager</span><span class="ct-7b05a8">&gt;();</span></div><div class="line"></div><div class="line"><span class="ct-7b05a8">        </span><span class="ct-b1f3db">todoManager</span><span class="ct-7b05a8">.</span><span class="ct-d9ef59">CreateTaskCard</span><span class="ct-7b05a8">(</span><span class="ct-38960b">&quot;incomplete&quot;</span><span class="ct-7b05a8">);</span></div><div class="line"><span class="ct-7b05a8">        </span><span class="ct-b1f3db">todoManager</span><span class="ct-7b05a8">.</span><span class="ct-d9ef59">CreateTaskCard</span><span class="ct-7b05a8">(</span><span class="ct-38960b">&quot;completed 1&quot;</span><span class="ct-7b05a8">).</span><span class="ct-d9ef59">Complete</span><span class="ct-7b05a8">();</span></div><div class="line"><span class="ct-7b05a8">        </span><span class="ct-b1f3db">todoManager</span><span class="ct-7b05a8">.</span><span class="ct-d9ef59">CreateTaskCard</span><span class="ct-7b05a8">(</span><span class="ct-38960b">&quot;completed 2&quot;</span><span class="ct-7b05a8">).</span><span class="ct-d9ef59">Complete</span><span class="ct-7b05a8">();</span></div><div class="line"></div><div class="line"><span class="ct-7b05a8">        </span><span class="ct-d9ef59">BeginTest</span><span class="ct-7b05a8">();</span></div><div class="line"></div><div class="line"><span class="ct-7b05a8">        </span><span class="ct-c243a8">var</span><span class="ct-7b05a8"> </span><span class="ct-b1f3db">actual</span><span class="ct-7b05a8"> = </span><span class="ct-b1f3db">Context</span><span class="ct-7b05a8">.</span><span class="ct-d9ef59">Query</span><span class="ct-7b05a8">&lt;</span><span class="ct-b3f2d6">TaskCards</span><span class="ct-7b05a8">&gt;().</span><span class="ct-d9ef59">ByCompleted</span><span class="ct-7b05a8">(</span><span class="ct-c243a8">true</span><span class="ct-7b05a8">);</span></div><div class="line"></div><div class="line"><span class="ct-7b05a8">        </span><span class="ct-b1f3db">Assert</span><span class="ct-7b05a8">.</span><span class="ct-d9ef59">That</span><span class="ct-7b05a8">(</span><span class="ct-b1f3db">actual</span><span class="ct-7b05a8">.</span><span class="ct-b1f3db">Count</span><span class="ct-7b05a8">, </span><span class="ct-b1f3db">Is</span><span class="ct-7b05a8">.</span><span class="ct-d9ef59">EqualTo</span><span class="ct-7b05a8">(</span><span class="ct-14a720">2</span><span class="ct-7b05a8">));</span></div><div class="line"><span class="ct-7b05a8">        </span><span class="ct-b1f3db">Assert</span><span class="ct-7b05a8">.</span><span class="ct-d9ef59">That</span><span class="ct-7b05a8">(</span><span class="ct-b1f3db">actual</span><span class="ct-7b05a8">[</span><span class="ct-14a720">0</span><span class="ct-7b05a8">].</span><span class="ct-b1f3db">Name</span><span class="ct-7b05a8">, </span><span class="ct-b1f3db">Is</span><span class="ct-7b05a8">.</span><span class="ct-d9ef59">EqualTo</span><span class="ct-7b05a8">(</span><span class="ct-38960b">&quot;completed 1&quot;</span><span class="ct-7b05a8">));</span></div><div class="line"><span class="ct-7b05a8">        </span><span class="ct-b1f3db">Assert</span><span class="ct-7b05a8">.</span><span class="ct-d9ef59">That</span><span class="ct-7b05a8">(</span><span class="ct-b1f3db">actual</span><span class="ct-7b05a8">[</span><span class="ct-14a720">1</span><span class="ct-7b05a8">].</span><span class="ct-b1f3db">Name</span><span class="ct-7b05a8">, </span><span class="ct-b1f3db">Is</span><span class="ct-7b05a8">.</span><span class="ct-d9ef59">EqualTo</span><span class="ct-7b05a8">(</span><span class="ct-38960b">&quot;completed 2&quot;</span><span class="ct-7b05a8">));</span></div><div class="line"><span class="ct-7b05a8">    }</span></div><div class="line"><span class="ct-7b05a8">    ...</span></div><div class="line"><span class="ct-7b05a8">}</span></div><div class="line"><span class="ct-7b05a8">...</span></div></code></pre><!--]--><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[-->Note that there is a <code><!--[-->Context.Query&lt;T&gt;()<!--]--></code> shortcut to access query classes.
Unlike <code><!--[-->Context.Get&lt;T&gt;()<!--]--></code> this shortcut is available in <em><!--[-->module<!--]--></em> projects as
well, so that you don&#39;t have to inject query classes.<!--]--></p><!--]--><!--]--></div></div><h2 id="query-classes-summary"><!--[-->Summary<!--]--></h2><p><!--[-->Query classes help you to organize your query methods for the same persistent
class into one place, so that you can create reusable query methods.<!--]--></p><p><!--[-->Now try to create other query methods that accepts more than one parameter,
re-run and see the results.<!--]--></p><p><!--[-->Once you are ready, you can proceed to learn how to create service packages and
expose your business services publicly.<!--]--></p><hr><p><!--[-->Here you can download <a href="https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/query-classes" rel="nofollow" target="_blank"><!--[-->source code for this tutorial<!--]--> <i class="fa-solid fa-arrow-up-right-from-square"></i></a>.<!--]--></p><style>.ct-14a720{color:#B5CEA8}
.ct-38960b{color:#CE9178}
.ct-335e82{color:#C586C0}
.ct-b1f3db{color:#9CDCFE}
.ct-d9ef59{color:#DCDCAA}
.ct-b3f2d6{color:#4EC9B0}
.ct-c243a8{color:#569CD6}
.ct-7b05a8{color:#D4D4D4}</style></div></section><section id="rest-api"><div><h1 id="rest-api"><!--[-->Rest API<!--]--></h1><p><!--[-->In this tutorial, you will create a Rest API and learn about configuration and
api packaging.<!--]--></p><h2 id="rest-api-define-a-service-interface"><!--[-->Define a Service Interface<!--]--></h2><p><!--[-->Until now you&#39;ve created business services for internal use. By internal we
mean that they are supposed to be consumed by your applications only. You can
always publish your business services directly to outside but this would be
hard for you to maintain and refactor your business code. For this reason, you
will create an api package out of your business services.<!--]--></p><p><!--[-->First we will define which services to expose. To do this, create a folder
named <code><!--[-->Service<!--]--></code> in <code><!--[-->Todo<!--]--></code> <em><!--[-->module<!--]--></em> and under this folder create an interface
named <code><!--[-->ITaskCardService<!--]--></code> as shown below;<!--]--></p><!--[--><pre><code><div class="line"><span>Inventiv.Sample
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ Inventiv.Sample.App.Rest
â”‚   â”œâ”€â”€ Inventiv.Sample.App.Service
â”‚   â””â”€â”€ Inventiv.Sample.Module.Todo
â”‚       â”œâ”€â”€ Service
â”‚       â”‚   â””â”€â”€ ITaskCardService.cs
â”‚       â”œâ”€â”€ TodoManager.cs
â”‚       â””â”€â”€ TaskCard.cs
â””â”€â”€ test
    â””â”€â”€ Inventiv.Sample.Test.Todo</span></div></code></pre><!--]--><p><!--[-->This interface is a <em><!--[-->service interface<!--]--></em> and it will contain the methods of
<code><!--[-->TaskCard<!--]--></code> class that you want to share with the outside world.<!--]--></p><p><!--[-->Now modify <code><!--[-->ITaskCardService<!--]--></code> service interface to include following method;<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-fb0db3">namespace</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">Inventiv</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Sample</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Module</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Todo</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Service</span><span class="ct-fdb0ae">;</span></div><div class="line"></div><div class="line"><span class="ct-fb0db3">public</span><span class="ct-fdb0ae"> </span><span class="ct-fb0db3">interface</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">ITaskCardService</span></div><div class="line"><span class="ct-fdb0ae">{</span></div><div class="line"><span class="ct-fdb0ae">    </span><span class="ct-fb0db3">void</span><span class="ct-fdb0ae"> </span><span class="ct-aa75bf">Complete</span><span class="ct-fdb0ae">();</span></div><div class="line"><span class="ct-fdb0ae">}</span></div></code></pre><!--]--><p><!--[-->Now go to <code><!--[-->TaskCard.cs<!--]--></code> file and make your <code><!--[-->TaskCard<!--]--></code> class implement
<code><!--[-->ITaskCardService<!--]--></code> interface as shown below;<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-fb0db3">public</span><span class="ct-fdb0ae"> </span><span class="ct-fb0db3">class</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">TaskCard</span><span class="ct-fdb0ae"> : </span><span class="ct-b7d1b5">ITaskCardService</span></div><div class="line"><span class="ct-fdb0ae">{</span></div><div class="line"><span class="ct-fdb0ae">    ...</span></div><div class="line"><span class="ct-fdb0ae">}</span></div><div class="line"><span class="ct-fdb0ae">...</span></div></code></pre><!--]--><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[-->Notice that you don&#39;t have to implement <code><!--[-->Complete<!--]--></code> method, since it is
already implemented within <code><!--[-->TaskCard<!--]--></code> class.<!--]--></p><!--]--><!--]--></div></div><h2 id="rest-api-create-an-api-package"><!--[-->Create an API Package<!--]--></h2><p><!--[-->To create an api package go to <code><!--[-->App.Service<!--]--></code> project and add a class named
<code><!--[-->TaskCardApi<!--]--></code> as shown below;<!--]--></p><!--[--><pre><code><div class="line"><span>Inventiv.Sample
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ Inventiv.Sample.App.Rest
â”‚   â”œâ”€â”€ Inventiv.Sample.App.Service
â”‚   â”‚   â””â”€â”€ TaskCardApi.cs
â”‚   â””â”€â”€ Inventiv.Sample.Module.Todo
â”‚       â”œâ”€â”€ Service
â”‚       â”‚   â””â”€â”€ ITaskCardService.cs
â”‚       â”œâ”€â”€ TodoManager.cs
â”‚       â””â”€â”€ TaskCard.cs
â””â”€â”€ test
    â””â”€â”€ Inventiv.Sample.Test.Todo</span></div></code></pre><!--]--><p><!--[-->And add below code to <code><!--[-->TaskCardApi<!--]--></code> class;<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-881fcf">using</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">Castle</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">MicroKernel</span><span class="ct-fdb0ae">;</span></div><div class="line"><span class="ct-881fcf">using</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">Gazel</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Configuration</span><span class="ct-fdb0ae">;</span></div><div class="line"><span class="ct-881fcf">using</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">Inventiv</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Sample</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Module</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Todo</span><span class="ct-fdb0ae">;</span></div><div class="line"><span class="ct-881fcf">using</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">Inventiv</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Sample</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Module</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Todo</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Service</span><span class="ct-fdb0ae">;</span></div><div class="line"><span class="ct-881fcf">using</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">Routine</span><span class="ct-fdb0ae">;</span></div><div class="line"><span class="ct-881fcf">using</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">Routine</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Engine</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Configuration</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">ConventionBased</span><span class="ct-fdb0ae">;</span></div><div class="line"></div><div class="line"><span class="ct-fb0db3">namespace</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">Inventiv</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Sample</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">App</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Service</span><span class="ct-fdb0ae">;</span></div><div class="line"></div><div class="line"><span class="ct-fb0db3">public</span><span class="ct-fdb0ae"> </span><span class="ct-fb0db3">class</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">TaskCardApi</span><span class="ct-fdb0ae"> : </span><span class="ct-b7d1b5">ICodingStyleConfiguration</span></div><div class="line"><span class="ct-fdb0ae">{</span></div><div class="line"><span class="ct-fdb0ae">    </span><span class="ct-fb0db3">public</span><span class="ct-fdb0ae"> </span><span class="ct-fb0db3">void</span><span class="ct-fdb0ae"> </span><span class="ct-aa75bf">Configure</span><span class="ct-fdb0ae">(</span><span class="ct-b7d1b5">ConventionBasedCodingStyle</span><span class="ct-fdb0ae"> </span><span class="ct-d6816d">codingStyle</span><span class="ct-fdb0ae">, </span><span class="ct-b7d1b5">IKernel</span><span class="ct-fdb0ae"> </span><span class="ct-d6816d">kernel</span><span class="ct-fdb0ae">)</span></div><div class="line"><span class="ct-fdb0ae">    {</span></div><div class="line"><span class="ct-fdb0ae">        </span><span class="ct-d6816d">codingStyle</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">AddTypes</span><span class="ct-fdb0ae">(</span><span class="ct-d6816d">v</span><span class="ct-fdb0ae"> =&gt; </span><span class="ct-d6816d">v</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">ApiPackage</span><span class="ct-fdb0ae">(</span><span class="ct-e692c9">&quot;TaskCard&quot;</span><span class="ct-fdb0ae">, </span><span class="ct-d6816d">t</span><span class="ct-fdb0ae"> =&gt; </span><span class="ct-d6816d">t</span></div><div class="line"><span class="ct-fdb0ae">            .</span><span class="ct-d6816d">Methods</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">Add</span><span class="ct-fdb0ae">(</span><span class="ct-d6816d">c</span><span class="ct-fdb0ae"> =&gt; </span><span class="ct-d6816d">c</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">Proxy</span><span class="ct-fdb0ae">&lt;</span><span class="ct-b7d1b5">ITaskCardService</span><span class="ct-fdb0ae">&gt;().</span><span class="ct-aa75bf">TargetByParameter</span><span class="ct-fdb0ae">&lt;</span><span class="ct-b7d1b5">TaskCard</span><span class="ct-fdb0ae">&gt;())</span></div><div class="line"><span class="ct-fdb0ae">        ));</span></div><div class="line"><span class="ct-fdb0ae">    }</span></div><div class="line"><span class="ct-fdb0ae">}</span></div></code></pre><!--]--><p><!--[-->With this configuration, you&#39;ve created a virtual class -which we call <em><!--[-->api
package<!--]--></em>- and added all methods in <code><!--[-->ITaskCardService<!--]--></code> class to this virtual
class.<!--]--></p><p><!--[-->Now build and run <code><!--[-->App.Service<!--]--></code> project.<!--]--></p><p><!--[--><img src="tutorial/-images/tutorials-rest-api-servicetestui.png" alt=" "><!--]--></p><p><!--[-->As you can see, there is a new group called <code><!--[-->Api<!--]--></code>. Under this group you will
see a new api package named <code><!--[-->ITaskCardService<!--]--></code>. You can see that this service
package is marked as <code><!--[-->Virtual<!--]--></code> and <code><!--[-->Web Service<!--]--></code>. Under this package there is
&#39;Complete&#39; service.<!--]--></p><h2 id="rest-api-test-your-first-endpoint"><!--[-->Test your first endpoint<!--]--></h2><p><!--[-->Now build and run both <code><!--[-->App.Service<!--]--></code> and <code><!--[-->App.Rest<!--]--></code> projects.<!--]--></p><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[--><code><!--[-->App.Rest<!--]--></code> is an application that acts as a gateway to your internal business
services. It only allows access to the services under <code><!--[-->Api<!--]--></code> group.<!--]--></p><!--]--><!--]--></div></div><p><!--[-->You will see your first endpoint in Swagger UI;<!--]--></p><p><!--[--><img src="tutorial/-images/tutorials-rest-api-swagger-1.png" alt=" "><!--]--></p><p><!--[-->Try your endpoint by making an HTTP request to this URL, and make sure you use
an id value from your test database in place of <code><!--[-->{id}<!--]--></code>.<!--]--></p><h3 id="rest-api-url-breakdown"><!--[-->URL breakdown<!--]--></h3><p><!--[-->Your api consists of 3 parts;<!--]--></p><ol><!--[--><li><!--[-->Resource name in plural - <code><!--[-->tasks<!--]--></code><!--]--></li><li><!--[-->Id of the resource - <code><!--[-->6<!--]--></code><!--]--></li><li><!--[-->Operation/method name - <code><!--[-->complete<!--]--></code><!--]--></li><!--]--></ol><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[-->Resource name is in plural because you named your web service package after a
persistent class, <code><!--[-->TaskCard<!--]--></code>.<!--]--></p><!--]--><!--]--></div></div><h2 id="rest-api-improve-your-api-package"><!--[-->Improve your API Package<!--]--></h2><p><!--[-->Now modify <code><!--[-->ITaskCardService.cs<!--]--></code> file as shown below;<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-fb0db3">namespace</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">Inventiv</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Sample</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Module</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Todo</span><span class="ct-fdb0ae">.</span><span class="ct-b7d1b5">Service</span><span class="ct-fdb0ae">;</span></div><div class="line"></div><div class="line"><span class="ct-fb0db3">public</span><span class="ct-fdb0ae"> </span><span class="ct-fb0db3">interface</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">ITaskCardService</span></div><div class="line"><span class="ct-fdb0ae">{</span></div><div class="line"><span class="ct-fdb0ae">    </span><span class="ct-fb0db3">void</span><span class="ct-fdb0ae"> </span><span class="ct-aa75bf">Complete</span><span class="ct-fdb0ae">();</span></div><div class="line"><span class="ct-fdb0ae">}</span></div><div class="line"></div><div class="line"><span class="ct-fb0db3">public</span><span class="ct-fdb0ae"> </span><span class="ct-fb0db3">interface</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">ITaskCardsService</span></div><div class="line"><span class="ct-fdb0ae">{</span></div><div class="line"><span class="ct-fdb0ae">    </span><span class="ct-b7d1b5">ITaskCardInfo</span><span class="ct-fdb0ae"> </span><span class="ct-aa75bf">GetTaskCard</span><span class="ct-fdb0ae">(</span><span class="ct-fb0db3">int</span><span class="ct-fdb0ae"> </span><span class="ct-d6816d">taskCardId</span><span class="ct-fdb0ae">);</span></div><div class="line"><span class="ct-fdb0ae">    </span><span class="ct-b7d1b5">List</span><span class="ct-fdb0ae">&lt;</span><span class="ct-b7d1b5">ITaskCardInfo</span><span class="ct-fdb0ae">&gt; </span><span class="ct-aa75bf">GetTaskCards</span><span class="ct-fdb0ae">(</span><span class="ct-fb0db3">bool</span><span class="ct-fdb0ae"> </span><span class="ct-d6816d">completed</span><span class="ct-fdb0ae">);</span></div><div class="line"><span class="ct-fdb0ae">}</span></div><div class="line"></div><div class="line"><span class="ct-fb0db3">public</span><span class="ct-fdb0ae"> </span><span class="ct-fb0db3">interface</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">ITaskCardManagerService</span></div><div class="line"><span class="ct-fdb0ae">{</span></div><div class="line"><span class="ct-fdb0ae">    </span><span class="ct-b7d1b5">ITaskCardInfo</span><span class="ct-fdb0ae"> </span><span class="ct-aa75bf">CreateTaskCard</span><span class="ct-fdb0ae">(</span><span class="ct-fb0db3">string</span><span class="ct-fdb0ae">? </span><span class="ct-d6816d">name</span><span class="ct-fdb0ae">);</span></div><div class="line"><span class="ct-fdb0ae">}</span></div><div class="line"></div><div class="line"><span class="ct-fb0db3">public</span><span class="ct-fdb0ae"> </span><span class="ct-fb0db3">interface</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">ITaskCardInfo</span></div><div class="line"><span class="ct-fdb0ae">{</span></div><div class="line"><span class="ct-fdb0ae">    </span><span class="ct-fb0db3">int</span><span class="ct-fdb0ae"> </span><span class="ct-d6816d">Id</span><span class="ct-fdb0ae"> { </span><span class="ct-fb0db3">get</span><span class="ct-fdb0ae">; }</span></div><div class="line"><span class="ct-fdb0ae">    </span><span class="ct-fb0db3">string</span><span class="ct-fdb0ae">? </span><span class="ct-d6816d">Name</span><span class="ct-fdb0ae"> { </span><span class="ct-fb0db3">get</span><span class="ct-fdb0ae">; }</span></div><div class="line"><span class="ct-fdb0ae">    </span><span class="ct-fb0db3">bool</span><span class="ct-fdb0ae"> </span><span class="ct-d6816d">Completed</span><span class="ct-fdb0ae"> { </span><span class="ct-fb0db3">get</span><span class="ct-fdb0ae">; }</span></div><div class="line"><span class="ct-fdb0ae">}</span></div></code></pre><!--]--><p><!--[-->There are 3 new interfaces in your service definition;<!--]--></p><ol><!--[--><li><!--[--><code><!--[-->ITaskCardsService<!--]--></code> to include services from <code><!--[-->TaskCards<!--]--></code> query class.<!--]--></li><li><!--[--><code><!--[-->ITaskCardManagerService<!--]--></code> to include task card related services from
<code><!--[-->TodoManager<!--]--></code> manager class.<!--]--></li><li><!--[--><code><!--[-->ITaskCardInfo<!--]--></code> to include properties of <code><!--[-->TaskCard<!--]--></code> class in responses.<!--]--></li><!--]--></ol><p><!--[-->Implement your new interfaces as shown below;<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-fdb0ae">...</span></div><div class="line"><span class="ct-fb0db3">public</span><span class="ct-fdb0ae"> </span><span class="ct-fb0db3">class</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">TaskCard</span><span class="ct-fdb0ae"> : </span><span class="ct-b7d1b5">ITaskCardService</span><span class="ct-fdb0ae">, </span><span class="ct-b7d1b5">ITaskCardInfo</span></div><div class="line"><span class="ct-fdb0ae">{</span></div><div class="line"><span class="ct-fdb0ae">    ...</span></div><div class="line"><span class="ct-fdb0ae">}</span></div><div class="line"></div><div class="line"><span class="ct-fb0db3">public</span><span class="ct-fdb0ae"> </span><span class="ct-fb0db3">class</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">TaskCards</span><span class="ct-fdb0ae"> : </span><span class="ct-b7d1b5">Query</span><span class="ct-fdb0ae">&lt;</span><span class="ct-b7d1b5">TaskCard</span><span class="ct-fdb0ae">&gt;, </span><span class="ct-b7d1b5">ITaskCardsService</span></div><div class="line"><span class="ct-fdb0ae">{</span></div><div class="line"><span class="ct-fdb0ae">    ...</span></div><div class="line"></div><div class="line"><span class="ct-fdb0ae">    </span><span class="ct-b7d1b5">ITaskCardInfo</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">ITaskCardsService</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">GetTaskCard</span><span class="ct-fdb0ae">(</span><span class="ct-fb0db3">int</span><span class="ct-fdb0ae"> </span><span class="ct-d6816d">taskCardId</span><span class="ct-fdb0ae">) =&gt;</span></div><div class="line"><span class="ct-fdb0ae">        </span><span class="ct-aa75bf">SingleById</span><span class="ct-fdb0ae">(</span><span class="ct-d6816d">taskCardId</span><span class="ct-fdb0ae">);</span></div><div class="line"></div><div class="line"><span class="ct-fdb0ae">    </span><span class="ct-b7d1b5">List</span><span class="ct-fdb0ae">&lt;</span><span class="ct-b7d1b5">ITaskCardInfo</span><span class="ct-fdb0ae">&gt; </span><span class="ct-b7d1b5">ITaskCardsService</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">GetTaskCards</span><span class="ct-fdb0ae">(</span><span class="ct-fb0db3">bool</span><span class="ct-fdb0ae"> </span><span class="ct-d6816d">completed</span><span class="ct-fdb0ae">) =&gt;</span></div><div class="line"><span class="ct-fdb0ae">        </span><span class="ct-aa75bf">ByCompleted</span><span class="ct-fdb0ae">(</span><span class="ct-d6816d">completed</span><span class="ct-fdb0ae">).</span><span class="ct-aa75bf">Cast</span><span class="ct-fdb0ae">&lt;</span><span class="ct-b7d1b5">ITaskCardInfo</span><span class="ct-fdb0ae">&gt;().</span><span class="ct-aa75bf">ToList</span><span class="ct-fdb0ae">();</span></div><div class="line"></div><div class="line"><span class="ct-fdb0ae">}</span></div><div class="line"><span class="ct-fdb0ae">...</span></div></code></pre><!--]--><!--[--><pre><code><div class="line"><span class="ct-fdb0ae">...</span></div><div class="line"><span class="ct-fb0db3">public</span><span class="ct-fdb0ae"> </span><span class="ct-fb0db3">class</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">TodoManager</span><span class="ct-fdb0ae"> : </span><span class="ct-b7d1b5">ITaskCardManagerService</span></div><div class="line"><span class="ct-fdb0ae">{</span></div><div class="line"><span class="ct-fdb0ae">    ...</span></div><div class="line"></div><div class="line"><span class="ct-fdb0ae">    </span><span class="ct-b7d1b5">ITaskCardInfo</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">ITaskCardManagerService</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">CreateTaskCard</span><span class="ct-fdb0ae">(</span><span class="ct-fb0db3">string</span><span class="ct-fdb0ae"> </span><span class="ct-d6816d">name</span><span class="ct-fdb0ae">) =&gt;</span></div><div class="line"><span class="ct-fdb0ae">        </span><span class="ct-aa75bf">CreateTaskCard</span><span class="ct-fdb0ae">(</span><span class="ct-d6816d">name</span><span class="ct-fdb0ae">);</span></div><div class="line"></div><div class="line"><span class="ct-fdb0ae">}</span></div><div class="line"><span class="ct-fdb0ae">...</span></div></code></pre><!--]--><div class="alert alert-info row"><div class="alert-message col"><i class="fa-solid fa-circle-info"></i></div><div class="col"><!--[--><!--[--><p><!--[-->Notice that we make use of <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/interfaces/explicit-interface-implementation" rel="nofollow" target="_blank"><!--[-->Explicit Interface Implementation<!--]--> <i class="fa-solid fa-arrow-up-right-from-square"></i></a> to map
interface methods to class methods. This is required for methods of service
interfaces where return type in service interface is different than the
return type in implementing class. e.g. <code><!--[-->CreateTaskCard<!--]--></code> method returns
<code><!--[-->TaskCard<!--]--></code> in <code><!--[-->TodoManager<!--]--></code> class, but it returns <code><!--[-->ITaskCardInfo<!--]--></code> in
<code><!--[-->ITaskCardManagerService<!--]--></code> interface.<!--]--></p><!--]--><!--]--></div></div><p><!--[-->And finally add new interfaces to your api package;<!--]--></p><!--[--><pre><code><div class="line"><span class="ct-fdb0ae">...</span></div><div class="line"><span class="ct-fb0db3">public</span><span class="ct-fdb0ae"> </span><span class="ct-fb0db3">class</span><span class="ct-fdb0ae"> </span><span class="ct-b7d1b5">TaskCardApi</span><span class="ct-fdb0ae"> : </span><span class="ct-b7d1b5">ICodingStyleConfiguration</span></div><div class="line"><span class="ct-fdb0ae">{</span></div><div class="line"><span class="ct-fdb0ae">    </span><span class="ct-fb0db3">public</span><span class="ct-fdb0ae"> </span><span class="ct-fb0db3">void</span><span class="ct-fdb0ae"> </span><span class="ct-aa75bf">Configure</span><span class="ct-fdb0ae">(</span><span class="ct-b7d1b5">ConventionBasedCodingStyle</span><span class="ct-fdb0ae"> </span><span class="ct-d6816d">codingStyle</span><span class="ct-fdb0ae">, </span><span class="ct-b7d1b5">IKernel</span><span class="ct-fdb0ae"> </span><span class="ct-d6816d">kernel</span><span class="ct-fdb0ae">)</span></div><div class="line"><span class="ct-fdb0ae">    {</span></div><div class="line"><span class="ct-fdb0ae">        </span><span class="ct-d6816d">codingStyle</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">AddTypes</span><span class="ct-fdb0ae">(</span><span class="ct-d6816d">v</span><span class="ct-fdb0ae"> =&gt; </span><span class="ct-d6816d">v</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">ApiPackage</span><span class="ct-fdb0ae">(</span><span class="ct-e692c9">&quot;TaskCard&quot;</span><span class="ct-fdb0ae">, </span><span class="ct-d6816d">t</span><span class="ct-fdb0ae"> =&gt; </span><span class="ct-d6816d">t</span></div><div class="line"><span class="ct-fdb0ae">            .</span><span class="ct-d6816d">Methods</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">Add</span><span class="ct-fdb0ae">(</span><span class="ct-d6816d">c</span><span class="ct-fdb0ae"> =&gt; </span><span class="ct-d6816d">c</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">Proxy</span><span class="ct-fdb0ae">&lt;</span><span class="ct-b7d1b5">ITaskCardService</span><span class="ct-fdb0ae">&gt;().</span><span class="ct-aa75bf">TargetByParameter</span><span class="ct-fdb0ae">&lt;</span><span class="ct-b7d1b5">TaskCard</span><span class="ct-fdb0ae">&gt;())</span></div><div class="line"><span class="ct-fdb0ae">            .</span><span class="ct-d6816d">Methods</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">Add</span><span class="ct-fdb0ae">(</span><span class="ct-d6816d">c</span><span class="ct-fdb0ae"> =&gt; </span><span class="ct-d6816d">c</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">Proxy</span><span class="ct-fdb0ae">&lt;</span><span class="ct-b7d1b5">ITaskCardsService</span><span class="ct-fdb0ae">&gt;().</span><span class="ct-aa75bf">TargetBySingleton</span><span class="ct-fdb0ae">(</span><span class="ct-d6816d">kernel</span><span class="ct-fdb0ae">))</span></div><div class="line"><span class="ct-fdb0ae">            .</span><span class="ct-d6816d">Methods</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">Add</span><span class="ct-fdb0ae">(</span><span class="ct-d6816d">c</span><span class="ct-fdb0ae"> =&gt; </span><span class="ct-d6816d">c</span><span class="ct-fdb0ae">.</span><span class="ct-aa75bf">Proxy</span><span class="ct-fdb0ae">&lt;</span><span class="ct-b7d1b5">ITaskCardManagerService</span><span class="ct-fdb0ae">&gt;().</span><span class="ct-aa75bf">TargetBySingleton</span><span class="ct-fdb0ae">(</span><span class="ct-d6816d">kernel</span><span class="ct-fdb0ae">))</span></div><div class="line"><span class="ct-fdb0ae">        ));</span></div><div class="line"><span class="ct-fdb0ae">    }</span></div><div class="line"><span class="ct-fdb0ae">}</span></div><div class="line"><span class="ct-fdb0ae">...</span></div></code></pre><!--]--><p><!--[-->Now rebuild and run both <code><!--[-->App.Service<!--]--></code> and <code><!--[-->App.Rest<!--]--></code> projects.<!--]--></p><p><!--[-->You now have 4 endpoints to test;<!--]--></p><p><!--[--><img src="tutorial/-images/tutorials-rest-api-swagger-2.png" alt=" "><!--]--></p><ol><!--[--><li><!--[--><code><!--[-->POST /task-cards/{id}/complete<!--]--></code> mapped to <code><!--[-->ITaskCardService.Complete<!--]--></code><!--]--></li><li><!--[--><code><!--[-->GET /task-cards<!--]--></code> or <code><!--[-->GET /task-cards?completed={bool}<!--]--></code> mapped to
<code><!--[-->ITaskCardsService.GetTaskCards<!--]--></code><!--]--></li><li><!--[--><code><!--[-->GET /task-cards/{id}<!--]--></code> mapped to <code><!--[-->ITaskCardsService.GetTaskCard<!--]--></code><!--]--></li><li><!--[--><code><!--[-->POST /task-cards<!--]--></code> mapped to <code><!--[-->ITaskCardManagerService.CreateTaskCard<!--]--></code><!--]--></li><!--]--></ol><p><!--[-->Go ahead and test your endpoints!<!--]--></p><h2 id="rest-api-summary"><!--[-->Summary<!--]--></h2><p><!--[-->In this section you&#39;ve learned how to create a Rest API out of your business
services.<!--]--></p><p><!--[-->Now try to create new persistent objects to enhance your to-do application.<!--]--></p><p><!--[-->You can move to next section to download a complete to-do application.<!--]--></p><hr><p><!--[-->Here you can download <a href="https://github.com/multinetinventiv/gazel-samples/tree/main/tutorial/rest-api" rel="nofollow" target="_blank"><!--[-->source code for this tutorial<!--]--> <i class="fa-solid fa-arrow-up-right-from-square"></i></a><!--]--></p><style>.ct-e692c9{color:#CE9178}
.ct-d6816d{color:#9CDCFE}
.ct-881fcf{color:#C586C0}
.ct-aa75bf{color:#DCDCAA}
.ct-b7d1b5{color:#4EC9B0}
.ct-fdb0ae{color:#D4D4D4}
.ct-fb0db3{color:#569CD6}</style></div></section><section id="sample-application"><div><h1 id="sample-application"><!--[-->Sample Application<!--]--></h1><p><!--[-->This tutorial is only a small portion of how you can build a backend solution,
but there is much more to learn about Gazel.<!--]--></p><p><!--[-->Here you can download a complete <a href="https://github.com/multinetinventiv/gazel-samples/tree/main/to-do" rel="nofollow" target="_blank"><!--[-->to-do application<!--]--> <i class="fa-solid fa-arrow-up-right-from-square"></i></a> with all endpoints and
functionality. Examine it to have a better feeling of how you can build a
similar solution.<!--]--></p><h2 id="sample-application-more-reading"><!--[-->More Reading<!--]--></h2><p><!--[-->You can continue to read this documentation to have a deeper understanding of
how Gazel works.<!--]--></p><ul><!--[--><li><!--[-->See <a href="/conventions" class=""><!--[-->conventions<!--]--> <!----></a> to see all conventions Gazel
exposes.<!--]--></li><li><!--[-->See <a href="/architecture" class=""><!--[-->architecture<!--]--> <!----></a> to learn about the underlying
architectural design.<!--]--></li><li><!--[-->See <a href="/features" class=""><!--[-->features<!--]--> <!----></a> to learn what options you have and how
to change the way Gazel behaves.<!--]--></li><!--]--></ul></div></section><!--]--></div><!--]--><!--]--></div></div></div></div></div><!--]--></div><script type="module">import p from "/tutorial/_payload.js";window.__NUXT__={...p,...((function(a,b,c,d){return {state:{$ssidebarActive:a},_errors:{},serverRendered:true,config:{public:{content:{locales:[],defaultLocale:b,integrity:1700046832723,experimental:{stripQueryParameters:a,clientDB:a},api:{baseURL:"\u002Fapi\u002F_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"prose-code",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"dark-plus",preload:["diff","ts","js","css","java","markdown","sql","xml","json","csharp","md","bash"]},wsUrl:b,documentDriven:a,host:b,trailingSlash:a,anchorLinks:{depth:0,exclude:[1]}},baseUrl:c,components:{alert:{types:{none:{alertClass:"alert-secondary"},bulb:{alertClass:d,icon:"fa-lightbulb"},x:{alertClass:"alert-danger",icon:"fa-circle-xmark"},warning:{alertClass:"alert-warning",icon:"fa-warning"},white_check_mark:{alertClass:d,icon:"fa-circle-check"},information_source:{alertClass:"alert-info",icon:"fa-circle-info"}}}}},app:{baseURL:c,buildAssetsDir:"\u002F_nuxt\u002F",cdnURL:b}},prerenderedAt:1700046852318}}(false,"","\u002F","alert-success")))}</script><script type="module" src="/_nuxt/entry.ef08e1a7.js" crossorigin></script></body>
</html>